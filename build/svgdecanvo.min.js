/*! svgdecanvo 2016-07-15 */
!function(a){var b,c=a.document,d={},e={};b=function(a,c,d,e,f,g,h){var i="",j={svg:i,context:i,callBack:i,imageArr:[],canvas:i,dimention:{}};if(!(this instanceof b))throw"This function should be used as class";this._getStore=function(a){return"undefined"!=typeof j[a]?j[a]:!1},this._setStore=function(a,b){"undefined"!=typeof j[a]&&(j[a]=b)},this._setStore("dimention",{x:d,y:e,width:f,height:g}),a&&this.setSVG(a),c&&this.setContext(c),h&&this.setCallback(h),this.drawOnCanvas()},b.prototype.setContext=function(a){var b;if(!a.getContext||!a.getContext("2d"))throw"Please provide valid canvas";b=a.getContext("2d"),this._setStore("canvas",a),this._setStore("context",b)},b.prototype.getContext=function(){return this._getStore("context")},b.prototype.setSVG=function(a){var b;if("undefined"!=typeof a.documentElement)b=a,this._setStore("svg",b);else{if("<"!=a.substr(0,1))throw"Please provide valid SVG";b=e.StrToDom(a),this._setStore("svg",b)}},b.prototype.getSVG=function(){return this._getStore("svg")},b.prototype.setCallback=function(a){"function"==typeof a&&this._setStore("callBack",a)},b.prototype.getCallback=function(){return this._getStore("callBack")},b.prototype.drawOnCanvas=function(a,b,c,d,f,g,h){var i,j,k,l,m,n,o,p;a&&this.setSVG(a),b&&this.setContext(b),h&&this.setCallback(h),b=b||this._getStore("canvas"),o=this._getStore("dimention"),h=this.getCallback(),i=this.getContext(),j=this.getSVG(),j&&i&&(p=e.getSvgDimention(j),k=p.width,l=p.height,c=c||o.x||0,d=d||o.y||0,f=f||o.width||k,g=g||o.height||l,m=p.width?f/k:1,n=p.height?g/l:1,e.startTransform("translate("+c+","+d+") scale("+m+","+n+")",i),i.save(),i.fillStyle="#ffffff",i.fillRect(0,0,f,g),i.restore(),e.storeImagesInArr(this),e.drawNodes([j],[],this,i,function(){"function"==typeof h&&h(),e.resetTransform(i)}))},d.common=function(a,b,c,f,g){var h,i,j=a.childNodes,k=function(){a.attributes&&f.restore(),g&&g()};for(i in b)b.hasOwnProperty(i)&&"class"!=b[i].name&&"id"!=b[i].name&&"transform"!=b[i].name&&"clip-path"!=b[i].name&&"object"==typeof b[i]&&a.attributes&&!a.attributes[b[i].name]&&a.setAttribute([b[i].name],b[i].value);if(a.attributes&&a.attributes.style){styleArr=a.attributes.style.value.replace(/;$/,"").split(";");for(i in styleArr)if(styleArr.hasOwnProperty(i)&&(styleName=styleArr[i].split(":")[0].trim(),!a.attributes[styleName]||"undefined"==a.attributes[styleName].value))try{a.setAttribute(styleName,styleArr[i].split(":")[1].trim())}catch(l){}}a.attributes&&(f.save(),a.attributes.transform&&e.startTransform(a.attributes.transform.value,f),a.attributes["clip-path"]&&e.applyClip(a.attributes["clip-path"].value,f,c)),0===j.length||1===j.length&&!j[0].tagName?"undefined"!=typeof a.tagName?(h="draw"+a.tagName,d[h]?a.attributes.display&&"none"==a.attributes.display.value?k():d[h](a,f,c,"draw",k):k()):k():e.drawNodes(j,"svg"==a.tagName?[]:a.attributes,c,f,k)},d.drawtext=function(a,b,c,d,e){this.drawtspan(a,b,c,d,e)},d.drawtspan=function(b,d,f,g,h){var i,j,k,l,m,n=b.innerHTML||b.textContent,o=b.attributes.x?b.attributes.x.value:0,p=b.attributes.y?b.attributes.y.value:0,q=b.attributes.dx?b.attributes.dx.value:0,r=b.attributes.dy?b.attributes.dy.value:0,s="serief",t="normal",u="16px",v=[];c.getElementsByTagName("body")[0]&&(i=a.getComputedStyle(c.getElementsByTagName("body")[0],null),i.getPropertyValue("font-family")&&(s=i.getPropertyValue("font-family")),i.getPropertyValue("font-weight")&&(t=i.getPropertyValue("font-weight")),i.getPropertyValue("font-size")&&(u=i.getPropertyValue("font-size"))),j=b.attributes["font-family"]?b.attributes["font-family"].value:s,k=b.attributes["font-weight"]?b.attributes["font-weight"].value:t,l=b.attributes["text-anchor"]?b.attributes["text-anchor"].value:"start",m=b.attributes["font-size"]?b.attributes["font-size"].value:u,o=Number(o)+Number(q),p=Number(p)+Number(r),n=n.trim(),l="middle"==l?"center":l,d.save(),d.font=k+" "+m+" "+j,d.textAlign=l,"draw"===g&&((!b.attributes.fill||b.attributes.fill&&"none"!=b.attributes.fill.value)&&(e.applyFillEffect(b,d,f,v),d.fillText(n,o,p),e.endFillEffect(b,d)),(!b.attributes.stroke||b.attributes.stroke&&"none"!=b.attributes.stroke.value)&&(e.applyStrokeEffect(b,d,f,v),d.strokeText(n,o,p),e.endStrokeEffect(b,d))),d.restore(),"function"==typeof h&&h()},d.drawcircle=function(a,b,c,d,f){var g=Number(a.attributes.cx.value),h=Number(a.attributes.cy.value),i=Number(a.attributes.r.value),j=[];b.beginPath(),b.arc(g,h,i,0,2*Math.PI),e.bBoxFromPoint([g,1*g+1*i,1*g-1*i],[h,1*h+1*i,1*h-1*i],j),"draw"===d&&((!a.attributes.fill||a.attributes.fill&&"none"!=a.attributes.fill.value)&&(e.applyFillEffect(a,b,c,j),b.fill(),e.endFillEffect(a,b)),(!a.attributes.stroke||a.attributes.stroke&&"none"!=a.attributes.stroke.value)&&(e.applyStrokeEffect(a,b,c,j),b.stroke(),e.endStrokeEffect(a,b))),b.closePath(),"function"==typeof f&&f()},d.drawrect=function(a,b,c,d,f){var g=Number(a.attributes.x.value),h=Number(a.attributes.y.value),i=a.attributes.rx?Number(a.attributes.rx.value):0,j=a.attributes.ry?Number(a.attributes.ry.value):0,k=Number(a.attributes.height.value),l=Number(a.attributes.width.value),m=[];e.bBoxFromPoint([g,g+l],[h,h+k],m),b.beginPath(),b.moveTo(g+i,h),b.lineTo(g+l-i,h),b.quadraticCurveTo(g+l,h,g+l,h+j),b.lineTo(g+l,h+k-j),b.quadraticCurveTo(g+l,h+k,g+l-i,h+k),b.lineTo(g+i,h+k),b.quadraticCurveTo(g,h+k,g,h+k-j),b.lineTo(g,h+j),b.quadraticCurveTo(g,h,g+i,h),"draw"===d&&((!a.attributes.fill||a.attributes.fill&&"none"!=a.attributes.fill.value)&&(e.applyFillEffect(a,b,c,m),b.fill(),e.endFillEffect(a,b)),(!a.attributes.stroke||a.attributes.stroke&&"none"!=a.attributes.stroke.value)&&(e.applyStrokeEffect(a,b,c,m),b.stroke(),e.endStrokeEffect(a,b))),b.closePath(),"function"==typeof f&&f()},d.drawellipse=function(a,b,c,d,f){var g=.5522848,h=Number(a.attributes.cx.value),i=Number(a.attributes.cy.value),j=Number(a.attributes.rx.value),k=Number(a.attributes.ry.value),l=j*g,m=k*g,n=h+j,o=i+k,p=[];b.beginPath(),b.moveTo(h-j,i),b.bezierCurveTo(h-j,i-m,h-l,i-k,h,i-k),b.bezierCurveTo(h+l,i-k,n,i-m,n,i),b.bezierCurveTo(n,i+m,h+l,o,h,o),b.bezierCurveTo(h-l,o,h-j,i+m,h-j,i),e.bBoxFromPoint([h+j,h-j],[i+k,i-k],p),"draw"===d&&((!a.attributes.fill||a.attributes.fill&&"none"!=a.attributes.fill.value)&&(e.applyFillEffect(a,b,c,p),b.fill(),e.endFillEffect(a,b)),(!a.attributes.stroke||a.attributes.stroke&&"none"!=a.attributes.stroke.value)&&(e.applyStrokeEffect(a,b,c,p),b.stroke(),e.endStrokeEffect(a,b))),b.closePath(),"function"==typeof f&&f()},d.drawimage=function(a,b,c,d,e){var f,g=a.attributes.x?Number(a.attributes.x.value):0,h=a.attributes.y?Number(a.attributes.y.value):0,i=a.attributes.height?Number(a.attributes.height.value):0,j=a.attributes.width?Number(a.attributes.width.value):0,k=c._getStore("imageArr");b.save(),a.attributes.opacity&&(b.globalAlpha=a.attributes.opacity.value),a.attributes["xlink:href"]?(f=a.attributes["xlink:href"].value,"complete"===k[f].status?(b.drawImage(k[f].obj,g,h,j,i),b.globalAlpha=1,b.restore(),"function"==typeof e&&e()):"error"===k[f].status?(b.globalAlpha=1,b.restore(),"function"==typeof e&&e()):"progress"===k[f].status?(k[f].callback=function(){b.drawImage(k[f].obj,g,h,j,i),b.globalAlpha=1,b.restore(),"function"==typeof e&&e()},k[f].errCallback=function(){b.globalAlpha=1,b.restore(),"function"==typeof e&&e()}):(b.globalAlpha=1,b.restore(),"function"==typeof e&&e())):(b.globalAlpha=1,b.restore(),"function"==typeof e&&e())},d.drawpath=function(a,b,c,d,f){var g,h,i,j,k=a.attributes.d.value.match(/[a-z][^a-z"]*/gi),l=[],m=0,n=0;b.beginPath();for(g in k)if(k.hasOwnProperty(g))switch(h=k[g].substring(0,1),i=e.getArgsAsArray(k[g].substring(1,k[g].length)),h){case"M":m=Number(i[0]),n=Number(i[1]),b.moveTo(m,n);break;case"m":m+=Number(i[0]),n+=Number(i[1]),b.moveTo(m,n);break;case"L":for(j=0;i[j];j+=2)e.bBoxFromPoint([m,i[j]],[n,i[j+1]],l),m=Number(i[j]),n=Number(i[j+1]),b.lineTo(m,n);break;case"l":for(j=0;i[j];j+=2)e.bBoxFromPoint([m,1*m+1*i[j]],[n,1*n+1*i[j+1]],l),m+=Number(i[j]),n+=Number(i[j+1]),b.lineTo(m,n);break;case"V":for(j=0;i[j];j+=1)e.bBoxFromPoint([m],[n,i[j]],l),n=Number(i[j]),b.lineTo(m,n);break;case"v":for(j=0;i[j];j+=1)e.bBoxFromPoint([m],[n,1*n+1*i[j]],l),n+=Number(i[j]),b.lineTo(m,n);break;case"H":for(j=0;i[j];j+=1)e.bBoxFromPoint([m,i[j]],[n],l),m=Number(i[j]),b.lineTo(m,n);break;case"h":for(j=0;i[j];j+=1)e.bBoxFromPoint([m,1*m+1*i[j]],[n],l),m+=Number(i[j]),b.lineTo(m,n);break;case"Q":for(j=0;i[j];j+=4)e.qBezierBBox(m,n,i[j],i[j+1],i[j+2],i[j+3],l),b.quadraticCurveTo(Number(i[j]),Number(i[j+1]),Number(i[j+2]),Number(i[j+3])),m=Number(i[j+2]),n=Number(i[j+3]);break;case"q":for(j=0;i[j];j+=4)e.qBezierBBox(m,n,m+1*i[j],n+1*i[j+1],1*m+1*i[j+2],1*n+1*i[j+3],l),b.quadraticCurveTo(m+1*i[j],n+1*i[j+1],m+=Number(i[j+2]),n+=Number(i[j+3]));break;case"C":for(j=0;i[j];j+=6)e.cBezierBBox(m,n,i[j],i[j+1],i[j+2],i[j+3],i[j+4],i[j+5],l),b.bezierCurveTo(i[j],i[j+1],i[j+2],i[j+3],i[j+4],i[j+5]),m=Number(i[j+4]),n=Number(i[j+5]);break;case"c":for(j=0;i[j];j+=6)e.cBezierBBox(m,n,m+1*i[j],1*n+1*i[j+1],m+1*i[j+2],1*n+1*i[j+3],m+1*i[j+4],1*n+1*i[j+5],l),b.bezierCurveTo(m+Number(i[j]),n+Number(i[j+1]),m+Number(i[j+2]),n+Number(i[j+3]),m+=Number(i[j+4]),n+=Number(i[j+5]));break;case"a":case"A":for(j=0;i[j];j+=7){var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=Number(i[j]),I=Number(i[j+1]);if(o=Number(i[j+2])*(Math.PI/180),p=Number(i[j+3]),q=Number(i[j+4]),r=Number(i[j+5]),s=Number(i[j+6]),t=Math.cos(o)*(m-r)/2+Math.sin(o)*(n-s)/2,u=-Math.sin(o)*(m-r)/2+Math.cos(o)*(n-s)/2,H=0>H?-H:H,I=0>I?-I:I,D=Math.pow(t,2)/Math.pow(H,2)+Math.pow(u,2)/Math.pow(I,2),D>1&&(H*=Math.sqrt(D),I*=Math.sqrt(D)),E=H>I?H:I,F=H>I?1:H/I,G=H>I?I/H:1,v=p==q?-1:1,w=v*Math.sqrt((Math.pow(H,2)*Math.pow(I,2)-Math.pow(H,2)*Math.pow(u,2)-Math.pow(I,2)*Math.pow(t,2))/(Math.pow(H,2)*Math.pow(u,2)+Math.pow(I,2)*Math.pow(t,2))),isNaN(w)&&(w=0),x=w*(H*u)/I,y=-w*(I*t)/H,z=x*Math.cos(o)-y*Math.sin(o)+(m+r)/2,A=x*Math.sin(o)+y*Math.cos(o)+(n+s)/2,B=e.angleBetweenVectors(1,0,(t-x)/H,(u-y)/I),C=e.angleBetweenVectors((t-x)/H,(u-y)/I,(-t-x)/H,(-u-y)/I),0===q&&C>0&&(C-=360*(Math.PI/180)),1==q&&0>C&&(C+=360*(Math.PI/180)),0===H&&0===I){b.lineTo(r,s);break}b.save();var J=e.combineTransformMatrix([[1,0,z,0,1,A],[Math.cos(o),Math.sin(o),0,Math.sin(o),Math.cos(o),0],[F,0,0,0,G,0]]);b.transform(J[0],J[3],J[1],J[4],J[2],J[5]),b.arc(0,0,E,B,B+C,1-q),b.restore(),e.arcBBox(0,0,E,B,B+C,1-q,[J[0],J[3],J[1],J[4],J[2],J[5]],l),"A"==h?(m=Number(i[j+5]),n=Number(i[j+6])):(m+=Number(i[j+5]),n+=Number(i[j+6]))}break;case"Z":case"z":b.closePath()}"draw"===d&&((!a.attributes.fill||a.attributes.fill&&"none"!=a.attributes.fill.value)&&(e.applyFillEffect(a,b,c,l),b.fill(),e.endFillEffect(a,b)),(!a.attributes.stroke||a.attributes.stroke&&"none"!=a.attributes.stroke.value)&&(e.applyStrokeEffect(a,b,c,l),b.stroke(),e.endStrokeEffect(a,b)),f())},e.drawNodes=function(a,b,c,e,f){var g=a.length,h=-1,i=0,j=0,k=function(){var l;h+=1,g>h?(l=a[h],l.tagName&&"defs"===l.tagName&&(h+=1,l=a[h]),l.attributes&&(l.attributes.dy&&(j=l.attributes.dy.value=1*l.attributes.dy.value+1*j),l.attributes.dx&&(i=l.attributes.dx.value=1*l.attributes.dx.value+1*i)),d.common(l,b,c,e,k)):f&&f()};k()},e.getSvgDimention=function(a){var b={width:0,height:0};return node=a.childNodes&&a.childNodes[0]&&a.childNodes[0].attributes,b.width=Number(node.width&&node.width.value||0),b.height=Number(node.height&&node.height.value||0),b},e.storeImagesInArr=function(a){var b,c,d,e,f=a.getSVG();d=a._getStore("imageArr"),b=f.getElementsByTagName("image");for(e in b)b.hasOwnProperty(e)&&b[e].attributes&&b[e].attributes["xlink:href"]&&(c=b[e].attributes["xlink:href"].value,d[c]||(d[c]=[],d[c].status="progress",d[c].callback=null,d[c].obj=new Image,d[c].obj.onload=function(a){return function(){var b=d[a].callback;b?(d[a].status="complete",b()):d[a].status="complete"}}(c),d[c].obj.onerror=function(a){return function(){var b=d[a].errCallback;b?(d[a].status="error",b()):d[a].status="error"}}(c),d[c].obj.src=c))},e.startTransform=function(a,b){var c,d,f=a.match(/[^\s][a-z,0-9.\-(\s]+\)/gi);for(d in f)f.hasOwnProperty(d)&&(f[d].indexOf("matrix")>-1&&(c=e.stringToArgs(f[d]),b.transform(c[0],c[1],c[2],c[3],c[4],c[5])),f[d].indexOf("translate")>-1&&(c=e.stringToArgs(f[d]),b.translate(c[0]||0,c[1]||0)),f[d].indexOf("rotate")>-1&&(c=e.stringToArgs(f[d]),3==c.length?(b.translate(c[1],c[2]),b.rotate(c[0]*(Math.PI/180)),b.translate(-c[1],-c[2])):b.rotate(c[0]*(Math.PI/180))),f[d].indexOf("scale")>-1&&(c=e.stringToArgs(f[d]),1==c.length?b.scale(c[0]||1,c[0]||1):b.scale(c[0]||1,c[1]||1)),f[d].indexOf("skewX")>-1&&(c=e.stringToArgs(f[d]),b.transform(1,0,Math.tan(c[0]*(Math.PI/180)),1,0,0)),f[d].indexOf("skewY")>-1&&(c=e.stringToArgs(f[d]),b.transform(1,Math.tan(c[0]*(Math.PI/180)),0,1,0,0)))},e.resetTransform=function(a){a.setTransform(1,0,0,1,0,0)},e.stringToArgs=function(a){var b=/\(([^\)]+)/.exec(a)[1];return e.getArgsAsArray(b)},e.getArgsAsArray=function(a){var b;for(a=a.trim().split(/[\s,]+/),b=0;b<a.length;b++)a[b].trim(),0===a[b].length&&a.splice(b,1);return a},e.applyFillEffect=function(a,b,c,d){var f;a.attributes["fill-opacity"]&&"none"!=a.attributes["fill-opacity"].value?b.globalAlpha=a.attributes["fill-opacity"].value:b.globalAlpha=1,a.attributes.fill&&a.attributes.fill.value.indexOf("url(")>-1?(f=e.getFillStyleById(/url\(.*#([^\)'"]+)/.exec(a.attributes.fill.value)[1],b,c,d),b.fillStyle=f):a.attributes.fill?b.fillStyle=a.attributes.fill.value:b.fillStyle="#000000"},e.endFillEffect=function(a,b){b.globalAlpha=1},e.applyStrokeEffect=function(a,b,c,d){a.attributes["stroke-opacity"]&&"none"!=a.attributes["stroke-opacity"].value&&(b.globalAlpha=a.attributes["stroke-opacity"].value),a.attributes["stroke-width"]&&(b.lineWidth=a.attributes["stroke-width"].value,0===a.attributes["stroke-width"].value&&(b.globalAlpha=0)),a.attributes["stroke-linecap"]&&"none"!=a.attributes["stroke-linecap"].value&&(b.lineCap=a.attributes["stroke-linecap"].value),a.attributes["stroke-linejoin"]&&"none"!=a.attributes["stroke-linejoin"].value&&(b.lineJoin=a.attributes["stroke-linejoin"].value),a.attributes["stroke-dasharray"]&&"none"!=a.attributes["stroke-dasharray"].value&&b.setLineDash&&b.setLineDash(e.getArgsAsArray(a.attributes["stroke-dasharray"].value)),a.attributes.stroke?b.strokeStyle=a.attributes.stroke.value:b.strokeStyle="#000000"},e.endStrokeEffect=function(a,b){a.attributes["stroke-opacity"]&&"none"!=a.attributes["stroke-opacity"].value&&(b.globalAlpha=1,b.setLineDash&&b.setLineDash([]),b.lineWidth=1),b.globalAlpha=1},e.applyClip=function(a,b,c){var f,g,h,i,j,k=c.getSVG();if(-1!==a.indexOf("url(")){f=/url\(.*#([^\)'"]+)/.exec(a)[1],g=k.getElementById(f),g.attributes&&(b.save(),g.attributes.transform&&e.startTransform(g.attributes.transform.value,b)),h=g.childNodes;for(i in h)h.hasOwnProperty(i)&&h[i].tagName&&h[i].constructor!==Array&&(j="draw"+h[i].tagName,h[i].attributes&&(b.save(),h[i].attributes.transform&&e.startTransform(h[i].attributes.transform.value,b)),d[j]&&(d[j](h[i],b,c,"clip"),b.closePath()),h[i].attributes&&b.restore());g.attributes&&b.restore(),b.clip()}},e.getFillStyleById=function(a,b,c,d){var f=c.getSVG(),g=f.getElementById(a);return"linearGradient"==g.tagName?e.getLinearGradient(g,b,d):"radialGradient"==g.tagName?e.getRadialGradient(g,b,d):"#FFFFFF"},e.getLinearGradient=function(a,b,c){var d,f,g,h,i=a.attributes.x1?e.getPercentValue(a.attributes.x1.value,c.xMax-c.xMin,c.xMin):0,j=a.attributes.y1?e.getPercentValue(a.attributes.y1.value,c.yMax-c.yMin,c.yMin):0,k=a.attributes.x2?e.getPercentValue(a.attributes.x2.value,c.xMax-c.xMin,c.xMin):0,l=a.attributes.y2?e.getPercentValue(a.attributes.y2.value,c.yMax-c.yMin,c.yMin):0;linGrad=b.createLinearGradient(i,j,k,l),d=a.childNodes;for(f in d)d.hasOwnProperty(f)&&d[f].attributes&&d[f].attributes["stop-color"]&&(g=e.toRGB(d[f].attributes["stop-color"].value),h=d[f].attributes["stop-opacity"]?d[f].attributes["stop-opacity"].value:1,g.status?linGrad.addColorStop(e.getPercentValue(d[f].attributes.offset.value,1,0),"rgba("+g.r+","+g.g+","+g.b+","+Number(h)+")"):linGrad.addColorStop(e.getPercentValue(d[f].attributes.offset.value,1,0),d[f].attributes["stop-color"].value));return linGrad},e.getRadialGradient=function(a,b,c){var d,f,g,h,i,j=a.attributes.cx?e.getPercentValue(a.attributes.cx.value,c.xMax-c.xMin,c.xMin):c.xMin+.5*(c.xMax-c.xMin),k=a.attributes.cy?e.getPercentValue(a.attributes.cy.value,c.yMax-c.yMin,c.yMin):c.yMin+.5*(c.yMax-c.yMin),l=a.attributes.fx?e.getPercentValue(a.attributes.fx.value,c.xMax-c.xMin,c.xMin):c.xMin+.5*(c.xMax-c.xMin),m=a.attributes.fy?e.getPercentValue(a.attributes.fy.value,c.yMax-c.yMin,c.yMin):c.yMin+.5*(c.yMax-c.yMin),n=a.attributes.r?e.getPercentValue(a.attributes.r.value,(c.yMax-c.yMin+c.xMax-c.xMin)/2,0):e.getPercentValue("50%",(c.yMax-c.yMin+c.xMax-c.xMin)/2,0);d=b.createRadialGradient(l,m,0,j,k,n),f=a.childNodes;for(g in f)f.hasOwnProperty(g)&&f[g].attributes&&f[g].attributes["stop-color"]&&(h=e.toRGB(f[g].attributes["stop-color"].value),i=f[g].attributes["stop-opacity"]?f[g].attributes["stop-opacity"].value:1,h.status?d.addColorStop(e.getPercentValue(f[g].attributes.offset.value,1,0),"rgba("+h.r+","+h.g+","+h.b+","+Number(i)+")"):d.addColorStop(e.getPercentValue(f[g].attributes.offset.value,1,0),f[g].attributes["stop-color"].value));return d},e.getPercentValue=function(a,b,c){var d;return-1!=a.indexOf("%")?(d=/(\d.*)%/.exec(a)[1],d>100&&(d=100),d*b/100+1*c):a>1?a:a*b+1*c},e.bBoxFromPoint=function(a,b,c){"undefined"!=typeof c.xMin&&(a.push(c.xMin,c.xMax),b.push(c.yMin,c.yMax)),c.xMin=Math.min.apply(this,a),c.xMax=Math.max.apply(this,a),c.yMin=Math.min.apply(this,b),c.yMax=Math.max.apply(this,b)},e.arcBBox=function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u;g instanceof Array&&(a=a*g[0]+a*g[2]+g[4],b=b*g[1]+b*g[3]+g[5]),u=function(a,b,c){return a=(a+2*Math.PI)%(2*Math.PI),b=(b+2*Math.PI)%(2*Math.PI),b>=a?c>=a&&b>=c:a>=b?!(a>=c&&c>=b):void 0},i=d%(2*Math.PI),j=e%(2*Math.PI),f&&(i=e%(2*Math.PI),j=d%(2*Math.PI)),k=a+c*Math.cos(i),m=b+c*Math.sin(i),l=a+c*Math.cos(j),n=b+c*Math.sin(j),s=[k,l],t=[m,n],u(i,j,0)&&(s.push(1*a+1*c),t.push(b)),u(i,j,.5*Math.PI)&&(s.push(a),t.push(1*b+1*c)),u(i,j,Math.PI)&&(s.push(a-1*c),t.push(b)),u(i,j,1.5*Math.PI)&&(s.push(a),t.push(b-1*c)),q=Math.max.apply(this,s),o=Math.min.apply(this,s),r=Math.max.apply(this,t),p=Math.min.apply(this,t),"undefined"!=typeof h.xMin?(h.xMin=Math.min(o,h.xMin),h.xMax=Math.max(q,h.xMax),h.yMin=Math.min(p,h.yMin),h.yMax=Math.max(r,h.yMax)):(h.xMin=o,h.xMax=q,h.yMin=p,h.yMax=r)},e.qBezierBBox=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p=1*a-2*c+1*e,q=1*b-2*d+1*f;0===p||0===q?(l=Math.max(a,e),j=Math.min(a,e),m=Math.max(b,f),k=Math.min(b,f)):(h=(a-c)/p,i=(b-d)/q,n=a*Math.pow(1-h,2)+2*c*(1-h)*h+e*Math.pow(h,2),o=b*Math.pow(1-i,2)+2*d*(1-i)*i+f*Math.pow(i,2),l=Math.max(a,e,n),j=Math.min(a,e,n),m=Math.max(b,f,o),k=Math.min(b,f,o)),"undefined"!=typeof g.xMin?(g.xMin=Math.min(j,g.xMin),g.xMax=Math.max(l,g.xMax),g.yMin=Math.min(k,g.yMin),g.yMax=Math.max(m,g.yMax)):(g.xMin=j,g.xMax=l,g.yMin=k,g.yMax=m)},e.cBezierBBox=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v;null===e&&null===f&&(c=a+2/3*(c-a),e=b+2/3*(d-b),d=c+1/3*(g-a),f=e+1/3*(h-b)),t=function(a,b,c,d,e){return a*Math.pow(1-e,3)+3*b*e*Math.pow(1-e,2)+3*c*e*e*(1-e)+d*e*e*e},n=3*g-9*e+9*c-3*a,o=6*a-12*c+6*e,p=3*c-3*a,q=Math.pow(o,2)-4*n*p,j=a,k=a,j>g&&(j=g),g>k&&(k=g),q>=0&&(r=(-o+Math.sqrt(q))/(2*n),r>0&&1>r&&(u=t(a,c,e,g,r),j>u&&(j=u),u>k&&(k=u)),s=(-o-Math.sqrt(q))/(2*n),s>0&&1>s&&(u=t(a,c,e,g,s),j>u&&(j=u),u>k&&(k=u))),n=3*h-9*f+9*d-3*b,o=6*b-12*d+6*f,p=3*d-3*b,q=Math.pow(o,2)-4*n*p,l=b,m=b,l>h&&(l=h),h>m&&(m=h),q>=0&&(r=(-o+Math.sqrt(q))/(2*n),r>0&&1>r&&(v=t(b,d,f,h,r),l>v&&(l=v),v>m&&(m=v)),s=(-o-Math.sqrt(q))/(2*n),s>0&&1>s&&(v=t(b,d,f,h,s),l>v&&(l=v),v>m&&(m=v))),"undefined"!=typeof i.xMin?(i.xMin=Math.min(j,i.xMin),i.xMax=Math.max(k,i.xMax),i.yMin=Math.min(l,i.yMin),i.yMax=Math.max(m,i.yMax)):(i.xMin=j,i.xMax=k,i.yMin=l,i.yMax=m)},e.combineTransformMatrix=function(a){var b,c=a.length-1;if(0>=c)return a[0];for(b=a[0],i=1;i<=c;i++)b[0]=b[0]*a[i][0]+b[1]*a[i][3],b[1]=b[0]*a[i][1]+b[1]*a[i][4],b[2]=b[0]*a[i][2]+b[1]*a[i][5]+1*b[2],b[3]=b[3]*a[i][0]+b[4]*a[i][3],b[4]=b[3]*a[i][1]+b[4]*a[i][4],b[5]=b[3]*a[i][2]+b[4]*a[i][5]+1*b[5];return b},e.angleBetweenVectors=function(a,b,c,d){var e=b*c>a*d?-1:1,f=a*c+b*d,g=Math.sqrt(Math.pow(a,2)+Math.pow(b,2)),h=Math.sqrt(Math.pow(c,2)+Math.pow(d,2));return e*Math.acos(f/(g*h))},e.toRGB=function(a){var b,c,d,e={r:0,g:0,b:0,status:0};return c=function(a){for(d in a)a.hasOwnProperty(d)&&(a[d]<0||isNaN(a[d])?a[d]=0:a[d]>255&&(a[d]=255));return e={r:a[0],g:a[1],b:a[2],status:1}},a=a.trim(),a.match(/^rgb\(|^rgba\(/i)?(b=/\(\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})/.exec(a),c([parseInt(b[1]),parseInt(b[2]),parseInt(b[3])])):a.match(/^#/)&&(b=/(\w{2})(\w{2})(\w{2})/.exec(a),c([parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)])),e},e.StrToDom=function(b){var c,d;return a.DOMParser?(c=new DOMParser,d=c.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(b)),d},a.SvgDeCanvo=b}(this.window||window);